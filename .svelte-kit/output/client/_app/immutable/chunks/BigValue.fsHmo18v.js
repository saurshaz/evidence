import{s as re,b as R,j as E,f as b,q as Fe,p as Ie,L as Me,e as M,d as G,r as D,i as w,v as W,n as H,_ as _e,$ as de,P as Y,Q as te,w as ge,x as be,y as pe,z as ye,t as se,a as J,u as oe,c as K,k as P,A as fe}from"./scheduler.BVCo5HCX.js";import{S as ne,i as le,g as B,b as p,d as j,t as g,c as V,a as T,m as F,e as I}from"./index.C9mGAhn_.js";import{f as Ge,i as ie,h as De,g as ke,d as we}from"./VennDiagram.svelte_svelte_type_style_lang.COvZ985M.js";import{g as Se,u as $,a as ee,s as ve,V as We,Q as Ce,E as Ee,b as Ae,B as Ve}from"./colours.CiCpy17i.js";import{V as U}from"./Value.D-dvCgmI.js";import{Q as Z}from"./index.DAWWTyat.js";import{b as Le}from"./index.rV6zwFgL.js";import{g as ue,f as me}from"./CopyIcon.5MOzTE6L.js";import{a as Oe}from"./DataTable.C27QukxD.js";function Pe(a,e){if(a){if(a=Number(a),isNaN(a))throw Error("height must be a number");if(a<=0)throw Error("height must be a positive number")}else a=15;if(e){if(e=Number(e),isNaN(e))throw Error("width must be a number");if(e<=0)throw Error("width must be a positive number")}else e=50;return{height:a,width:e}}function ze(a,e,r,t,l){const n=Se(a);if(n[r].type!=="date")throw Error("dateCol must be of type date");const i=n[e].format,f=n[r].format,o=t?ue(t):i,s=l?ue(l):f;return{value_format_object:o,date_format_object:s}}function Be(a,e,r,t,l,n,i,f,o){return{title:{subtextStyle:{width:"100%"}},tooltip:{trigger:"axis",position:function(s,u,c,h,v){return[v.viewSize[0]/2-v.contentSize[0]/2,-11]},formatter:function(s){const u=s[0],c=`<div style="text-align: center; background-color: ${o}; border-radius: 1px; padding: 0px 2px; height: 12px;">${me(u.value[1],n)}</div>`,h=`<div style="background-color: transparent; height: ${f-1.5}px;"></div>`,v=`<div style="text-align: center; height: 1em; background-color: transparent; border-radius: 1px; padding: 0px 2px;">${me(u.axisValueLabel,i)}</div>`;return c+h+v},backgroundColor:"transparent",borderWidth:0,borderColor:"transparent",extraCssText:"box-shadow: none; padding-bottom: 0;",padding:0,textStyle:{fontSize:9}},legend:{show:!1},grid:{left:0,right:0,bottom:0,top:0,containLabel:!0},xAxis:{type:"time",splitLine:{show:!1},axisLine:{show:!0,lineStyle:{width:.75,color:$.grey500}},axisTick:{show:!1},axisLabel:{show:!1,hideOverlap:!0,showMaxLabel:!1,formatter:!1,margin:6},scale:!0,z:2,boundaryGap:"2%",axisPointer:{show:!0,snap:!0,type:"line",z:0,lineStyle:{width:.5},handle:{show:!1},label:{show:!1}}},yAxis:[{type:"value",logBase:10,splitLine:{show:!1},axisLine:{show:!1,onZero:!1},axisTick:{show:!1},axisLabel:{show:!1,hideOverlap:!0,margin:4},name:"",nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0]},nameGap:6,scale:l,boundaryGap:["1%","1%"],z:2}],series:[{type:r,triggerLineEvent:!0,label:{show:!1,position:"top",padding:0,fontSize:9},labelLayout:{hideOverlap:!0},connectNulls:!1,emphasis:{disabled:!0},lineStyle:{width:1,type:"solid",color:t??$.grey400},areaStyle:{color:e==="area"?t?Ge(t).brighten(1.5).hex():$.grey300:"transparent"},itemStyle:{color:t??$.grey400},showSymbol:!1,symbol:"circle",symbolSize:0,step:!1,name:"sparkline",data:a,yAxisIndex:0}],animation:!1}}function je(a){let e;return{c(){e=M("div"),this.h()},l(r){e=G(r,"DIV",{class:!0,style:!0}),D(e).forEach(b),this.h()},h(){w(e,"class","inline-block align-baseline overflow-visible"),W(e,"width",a[0]+"px"),W(e,"height",a[1]+"px")},m(r,t){E(r,e,t),a[20](e)},p(r,t){t&1&&W(e,"width",r[0]+"px"),t&2&&W(e,"height",r[1]+"px")},i:H,o:H,d(r){r&&b(e),a[20](null)}}}function Ne(a){let e,r;return{c(){e=M("div"),r=new _e(!1),this.h()},l(t){e=G(t,"DIV",{class:!0,style:!0});var l=D(e);r=de(l,!1),l.forEach(b),this.h()},h(){r.a=null,w(e,"class","inline-block align-baseline"),W(e,"width",a[0]+"px"),W(e,"height",a[1]+"px")},m(t,l){E(t,e,l),r.m(a[5],e)},p(t,l){l&32&&r.p(t[5]),l&1&&W(e,"width",t[0]+"px"),l&2&&W(e,"height",t[1]+"px")},i:H,o:H,d(t){t&&b(e)}}}function Qe(a){let e,r;return{c(){e=M("div"),r=new _e(!1),this.h()},l(t){e=G(t,"DIV",{class:!0,style:!0});var l=D(e);r=de(l,!1),l.forEach(b),this.h()},h(){r.a=null,w(e,"class","inline-block align-baseline"),W(e,"width",a[0]+"px"),W(e,"height",a[1]+"px")},m(t,l){E(t,e,l),r.m(a[6],e)},p(t,l){l&64&&r.p(t[6]),l&1&&W(e,"width",t[0]+"px"),l&2&&W(e,"height",t[1]+"px")},i:H,o:H,d(t){t&&b(e)}}}function qe(a){let e,r;return e=new We({props:{error:a[4]}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&16&&(n.error=t[4]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Re(a){let e,r,t,l;const n=[qe,Qe,Ne,je],i=[];function f(o,s){return o[4]?0:o[2]?3:2}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=R()},l(o){r.l(o),t=R()},m(o,s){i[e].m(o,s),E(o,t,s),l=!0},p(o,[s]){let u=e;e=f(o),e===u?i[e].p(o,s):(B(),p(i[u],1,1,()=>{i[u]=null}),j(),r=i[e],r?r.p(o,s):(r=i[e]=n[e](o),r.c()),g(r,1),r.m(t.parentNode,t))},i(o){l||(g(r),l=!0)},o(o){p(r),l=!1},d(o){o&&b(t),i[e].d(o)}}}let He="white";function Ye(a,e,r){let{config:t={}}=e,{width:l=50}=e,{height:n=15}=e,{interactive:i=!0}=e,f,o=null,s="",{data:u=void 0}=e,{dateCol:c=void 0}=e,{valueCol:h=void 0}=e,{valueFmt:v=void 0}=e,k,{dateFmt:S=void 0}=e,d,{type:y="line"}=e,{color:C=void 0}=e,{yScale:A=!1}=e,N=y==="area"?"line":y,{connectGroup:O=void 0}=e,X,L;function Q(){i&&f&&!o&&(r(17,o=ie(f,"evidence-light",{renderer:"svg",width:l,height:n})),o.setOption(t),O&&(r(17,o.group=O,o),De(O)))}Fe(()=>{if(i)Q();else{const _=document.createElement("div");_.style.width=l+"px",_.style.height=n+"px";const m=ie(_,"evidence-light",{renderer:"svg",height:n,width:l});m.setOption(t),r(5,s=m.renderToSVGString()),m.dispose()}}),Ie(()=>{o&&o.dispose()});function x(_){Me[_?"unshift":"push"](()=>{f=_,r(3,f)})}return a.$$set=_=>{"config"in _&&r(7,t=_.config),"width"in _&&r(0,l=_.width),"height"in _&&r(1,n=_.height),"interactive"in _&&r(2,i=_.interactive),"data"in _&&r(9,u=_.data),"dateCol"in _&&r(10,c=_.dateCol),"valueCol"in _&&r(11,h=_.valueCol),"valueFmt"in _&&r(12,v=_.valueFmt),"dateFmt"in _&&r(13,S=_.dateFmt),"type"in _&&r(14,y=_.type),"color"in _&&r(15,C=_.color),"yScale"in _&&r(8,A=_.yScale),"connectGroup"in _&&r(16,O=_.connectGroup)},a.$$.update=()=>{if(a.$$.dirty&4&&r(2,i=i==="true"||i===!0),a.$$.dirty&256&&r(8,A=A==="true"||A===!0),a.$$.dirty&982943)try{if(!["line","area","bar"].includes(y))throw Error("type must be line, area, or bar");r(1,{height:n,width:l}=Pe(n,l),n,(r(0,l),r(14,y),r(1,n),r(9,u),r(11,h),r(10,c),r(12,v),r(13,S),r(21,N),r(15,C),r(8,A),r(18,k),r(19,d),r(7,t),r(3,f),r(2,i),r(17,o),r(4,L))),ee(u,[h,c]),r(18,{value_format_object:k,date_format_object:d}=ze(u,h,c,v,S),k,(r(19,d),r(14,y),r(1,n),r(0,l),r(9,u),r(11,h),r(10,c),r(12,v),r(13,S),r(21,N),r(15,C),r(8,A),r(18,k),r(7,t),r(3,f),r(2,i),r(17,o),r(4,L)));const _=u.map(m=>[m[c],m[h]]);_.sort((m,z)=>m[0]-z[0]),r(7,t=Be(_,y,N,C,A,k,d,n,He)),f&&i&&!o&&Q()}catch(_){if(r(4,L=_),console.error("\x1B[31m%s\x1B[0m",`Error in Sparkline: ${L.message}`),ve)throw L}if(a.$$.dirty&640,a.$$.dirty&131200&&o&&t&&o.setOption(t,!0),a.$$.dirty&135)if(i)Q();else{const _=document.createElement("div");_.style.width=l+"px",_.style.height=n+"px";const m=ie(_,"evidence-light",{renderer:"svg",height:n,width:l});m.setOption(t),r(5,s=m.renderToSVGString()),m.dispose()}},[l,n,i,f,L,s,X,t,A,u,c,h,v,S,y,C,O,o,k,d,x]}class Ze extends ne{constructor(e){super(),le(this,e,Ye,Re,re,{config:7,width:0,height:1,interactive:2,data:9,dateCol:10,valueCol:11,valueFmt:12,dateFmt:13,type:14,color:15,yScale:8,connectGroup:16})}}function Je(a){let e;const r=a[6].default,t=ge(r,a,a[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&128)&&be(t,r,l,l[7],e?ye(r,l[7],n,null):pe(l[7]),null)},i(l){e||(g(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function Ke(a){let e,r;const t=[a[4],{data:Z.isQuery(a[10])?Array.from(a[10]):a[10]},{queryID:a[5]}];let l={$$slots:{default:[Je]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)l=Y(l,t[n]);return e=new Ze({props:l}),{c(){V(e.$$.fragment)},l(n){T(e.$$.fragment,n)},m(n,i){F(e,n,i),r=!0},p(n,i){const f=i&1072?ke(t,[i&16&&we(n[4]),i&1024&&{data:Z.isQuery(n[10])?Array.from(n[10]):n[10]},i&32&&{queryID:n[5]}]):{};i&128&&(f.$$scope={dirty:i,ctx:n}),e.$set(f)},i(n){r||(g(e.$$.fragment,n),r=!0)},o(n){p(e.$$.fragment,n),r=!1},d(n){I(e,n)}}}function Ue(a){let e,r;return e=new Ee({props:{slot:"empty",emptyMessage:a[2],emptySet:a[1],chartType:a[4].chartType,isInitial:a[3]}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&4&&(n.emptyMessage=t[2]),l&2&&(n.emptySet=t[1]),l&16&&(n.chartType=t[4].chartType),l&8&&(n.isInitial=t[3]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function Xe(a){let e,r;return e=new Ae({props:{slot:"error",chartType:$e,error:a[10].error.message}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&1024&&(n.error=t[10].error.message),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function xe(a){let e,r;return e=new Ce({props:{data:a[0],$$slots:{error:[Xe,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0],empty:[Ue],default:[Ke,({loaded:t})=>({10:t}),({loaded:t})=>t?1024:0]},$$scope:{ctx:a}}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,[l]){const n={};l&1&&(n.data=t[0]),l&1182&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}let $e="Sparkline";function et(a,e,r){let t,{$$slots:l={},$$scope:n}=e,{data:i}=e;const f=Z.isQuery(i)?i.hash:void 0;let o=(i==null?void 0:i.hash)===f,{emptySet:s=void 0}=e,{emptyMessage:u=void 0}=e,c=i==null?void 0:i.id;return a.$$set=h=>{r(9,e=Y(Y({},e),te(h))),"data"in h&&r(0,i=h.data),"emptySet"in h&&r(1,s=h.emptySet),"emptyMessage"in h&&r(2,u=h.emptyMessage),"$$scope"in h&&r(7,n=h.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&r(3,o=(i==null?void 0:i.hash)===f),r(4,t={...Object.fromEntries(Object.entries(e).filter(([,h])=>h!==void 0))})},e=te(e),[i,s,u,o,t,c,l,n]}class tt extends ne{constructor(e){super(),le(this,e,et,xe,re,{data:0,emptySet:1,emptyMessage:2})}}function rt(a){let e,r,t,l,n,i,f,o,s,u;const c=[at,lt],h=[];function v(d,y){return d[20]?0:1}n=v(a),i=h[n]=c[n](a);let k=a[8]&&ce(a),S=a[7]&&he(a);return{c(){e=M("p"),r=se(a[3]),t=J(),l=M("div"),i.c(),f=J(),k&&k.c(),o=J(),S&&S.c(),s=R(),this.h()},l(d){e=G(d,"P",{class:!0});var y=D(e);r=oe(y,a[3]),y.forEach(b),t=K(d),l=G(d,"DIV",{class:!0});var C=D(l);i.l(C),f=K(C),k&&k.l(C),C.forEach(b),o=K(d),S&&S.l(d),s=R(),this.h()},h(){w(e,"class","text-sm text-gray-700"),w(l,"class","relative text-xl font-medium text-gray-700 my-0.5")},m(d,y){E(d,e,y),P(e,r),E(d,t,y),E(d,l,y),h[n].m(l,null),P(l,f),k&&k.m(l,null),E(d,o,y),S&&S.m(d,y),E(d,s,y),u=!0},p(d,y){(!u||y&8)&&fe(r,d[3]);let C=n;n=v(d),n===C?h[n].p(d,y):(B(),p(h[C],1,1,()=>{h[C]=null}),j(),i=h[n],i?i.p(d,y):(i=h[n]=c[n](d),i.c()),g(i,1),i.m(l,f)),d[8]?k?(k.p(d,y),y&256&&g(k,1)):(k=ce(d),k.c(),g(k,1),k.m(l,null)):k&&(B(),p(k,1,1,()=>{k=null}),j()),d[7]?S?(S.p(d,y),y&128&&g(S,1)):(S=he(d),S.c(),g(S,1),S.m(s.parentNode,s)):S&&(B(),p(S,1,1,()=>{S=null}),j())},i(d){u||(g(i),g(k),g(S),u=!0)},o(d){p(i),p(k),p(S),u=!1},d(d){d&&(b(e),b(t),b(l),b(o),b(s)),h[n].d(),k&&k.d(),S&&S.d(d)}}}function nt(a){let e,r;return e=new Ve({props:{chartType:"Big Value",error:a[21].message}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&2097152&&(n.error=t[21].message),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function lt(a){let e,r;return e=new U({props:{data:a[0],column:a[6],fmt:a[14]}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.data=t[0]),l&64&&(n.column=t[6]),l&16384&&(n.fmt=t[14]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function at(a){let e,r,t;return r=new U({props:{data:a[0],column:a[6],fmt:a[14]}}),{c(){e=M("a"),V(r.$$.fragment),this.h()},l(l){e=G(l,"A",{class:!0,href:!0});var n=D(e);T(r.$$.fragment,n),n.forEach(b),this.h()},h(){w(e,"class","hover:bg-gray-100"),w(e,"href",a[20])},m(l,n){E(l,e,n),F(r,e,null),t=!0},p(l,n){const i={};n&1&&(i.data=l[0]),n&64&&(i.column=l[6]),n&16384&&(i.fmt=l[14]),r.$set(i),(!t||n&1048576)&&w(e,"href",l[20])},i(l){t||(g(r.$$.fragment,l),t=!0)},o(l){p(r.$$.fragment,l),t=!1},d(l){l&&b(e),I(r)}}}function ce(a){let e,r;return e=new tt({props:{height:"15",data:a[0],dateCol:a[8],valueCol:a[6],type:a[9],interactive:"true",color:a[10],valueFmt:a[14]??a[11],dateFmt:a[12],yScale:a[2],connectGroup:a[13]}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.data=t[0]),l&256&&(n.dateCol=t[8]),l&64&&(n.valueCol=t[6]),l&512&&(n.type=t[9]),l&1024&&(n.color=t[10]),l&18432&&(n.valueFmt=t[14]??t[11]),l&4096&&(n.dateFmt=t[12]),l&4&&(n.yScale=t[2]),l&8192&&(n.connectGroup=t[13]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function he(a){let e,r,t,l;const n=[st,it],i=[];function f(o,s){return o[1]?0:1}return e=f(a),r=i[e]=n[e](a),{c(){r.c(),t=R()},l(o){r.l(o),t=R()},m(o,s){i[e].m(o,s),E(o,t,s),l=!0},p(o,s){let u=e;e=f(o),e===u?i[e].p(o,s):(B(),p(i[u],1,1,()=>{i[u]=null}),j(),r=i[e],r?r.p(o,s):(r=i[e]=n[e](o),r.c()),g(r,1),r.m(t.parentNode,t))},i(o){l||(g(r),l=!0)},o(o){p(r),l=!1},d(o){o&&b(t),i[e].d(o)}}}function it(a){let e,r,t,l,n,i,f;const o=[ft,ot],s=[];function u(c,h){return c[20]?0:1}return r=u(a),t=s[r]=o[r](a),{c(){e=M("p"),t.c(),l=J(),n=M("span"),i=se(a[4]),this.h()},l(c){e=G(c,"P",{class:!0});var h=D(e);t.l(h),l=K(h),n=G(h,"SPAN",{});var v=D(n);i=oe(v,a[4]),v.forEach(b),h.forEach(b),this.h()},h(){w(e,"class","text-xs font-sans text-gray-500 pt-[0.5px]")},m(c,h){E(c,e,h),s[r].m(e,null),P(e,l),P(e,n),P(n,i),f=!0},p(c,h){let v=r;r=u(c),r===v?s[r].p(c,h):(B(),p(s[v],1,1,()=>{s[v]=null}),j(),t=s[r],t?t.p(c,h):(t=s[r]=o[r](c),t.c()),g(t,1),t.m(e,l)),(!f||h&16)&&fe(i,c[4])},i(c){f||(g(t),f=!0)},o(c){p(t),f=!1},d(c){c&&b(e),s[r].d()}}}function st(a){let e,r,t,l;return r=new Oe({props:{data:a[0],column:a[7],fmt:a[15],fontClass:"text-xs",symbolPosition:"left",neutralMin:a[16],neutralMax:a[17],text:a[4],downIsGood:a[5]}}),{c(){e=M("p"),V(r.$$.fragment),this.h()},l(n){e=G(n,"P",{class:!0,style:!0});var i=D(e);T(r.$$.fragment,i),i.forEach(b),this.h()},h(){w(e,"class","text-xs font-sans"),w(e,"style",t=`color:${a[22]}`)},m(n,i){E(n,e,i),F(r,e,null),l=!0},p(n,i){const f={};i&1&&(f.data=n[0]),i&128&&(f.column=n[7]),i&32768&&(f.fmt=n[15]),i&65536&&(f.neutralMin=n[16]),i&131072&&(f.neutralMax=n[17]),i&16&&(f.text=n[4]),i&32&&(f.downIsGood=n[5]),r.$set(f),(!l||i&4194304&&t!==(t=`color:${n[22]}`))&&w(e,"style",t)},i(n){l||(g(r.$$.fragment,n),l=!0)},o(n){p(r.$$.fragment,n),l=!1},d(n){n&&b(e),I(r)}}}function ot(a){let e,r;return e=new U({props:{data:a[0],column:a[7],fmt:a[15]}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,l){const n={};l&1&&(n.data=t[0]),l&128&&(n.column=t[7]),l&32768&&(n.fmt=t[15]),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}function ft(a){let e,r,t;return r=new U({props:{data:a[0],column:a[7],fmt:a[15]}}),{c(){e=M("a"),V(r.$$.fragment),this.h()},l(l){e=G(l,"A",{class:!0,href:!0});var n=D(e);T(r.$$.fragment,n),n.forEach(b),this.h()},h(){w(e,"class","hover:bg-gray-100"),w(e,"href",a[20])},m(l,n){E(l,e,n),F(r,e,null),t=!0},p(l,n){const i={};n&1&&(i.data=l[0]),n&128&&(i.column=l[7]),n&32768&&(i.fmt=l[15]),r.$set(i),(!t||n&1048576)&&w(e,"href",l[20])},i(l){t||(g(r.$$.fragment,l),t=!0)},o(l){p(r.$$.fragment,l),t=!1},d(l){l&&b(e),I(r)}}}function ut(a){let e,r,t,l,n;const i=[nt,rt],f=[];function o(s,u){return s[21]?0:1}return r=o(a),t=f[r]=i[r](a),{c(){e=M("div"),t.c(),this.h()},l(s){e=G(s,"DIV",{class:!0,style:!0});var u=D(e);t.l(u),u.forEach(b),this.h()},h(){w(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),w(e,"style",l=`
        min-width: ${a[19]};
        max-width: ${a[18]};
    `)},m(s,u){E(s,e,u),f[r].m(e,null),n=!0},p(s,[u]){let c=r;r=o(s),r===c?f[r].p(s,u):(B(),p(f[c],1,1,()=>{f[c]=null}),j(),t=f[r],t?t.p(s,u):(t=f[r]=i[r](s),t.c()),g(t,1),t.m(e,null)),(!n||u&786432&&l!==(l=`
        min-width: ${s[19]};
        max-width: ${s[18]};
    `))&&w(e,"style",l)},i(s){n||(g(t),n=!0)},o(s){p(t),n=!1},d(s){s&&b(e),f[r].d()}}}function mt(a,e,r){let{data:t}=e,{value:l=null}=e,{comparison:n=null}=e,{comparisonDelta:i=!0}=e,{sparkline:f=null}=e,{sparklineType:o="line"}=e,{sparklineColor:s=void 0}=e,{sparklineValueFmt:u=void 0}=e,{sparklineDateFmt:c=void 0}=e,{sparklineYScale:h=!1}=e,{connectGroup:v=void 0}=e,{fmt:k=void 0}=e,{comparisonFmt:S=void 0}=e,{title:d=null}=e,{comparisonTitle:y=null}=e,{downIsGood:C=!1}=e,{neutralMin:A=0}=e,{neutralMax:N=0}=e,{maxWidth:O="none"}=e,{minWidth:X="18%"}=e,L=!0,Q="var(--grey-700)",{link:x=null}=e,_;return a.$$set=m=>{"data"in m&&r(0,t=m.data),"value"in m&&r(6,l=m.value),"comparison"in m&&r(7,n=m.comparison),"comparisonDelta"in m&&r(1,i=m.comparisonDelta),"sparkline"in m&&r(8,f=m.sparkline),"sparklineType"in m&&r(9,o=m.sparklineType),"sparklineColor"in m&&r(10,s=m.sparklineColor),"sparklineValueFmt"in m&&r(11,u=m.sparklineValueFmt),"sparklineDateFmt"in m&&r(12,c=m.sparklineDateFmt),"sparklineYScale"in m&&r(2,h=m.sparklineYScale),"connectGroup"in m&&r(13,v=m.connectGroup),"fmt"in m&&r(14,k=m.fmt),"comparisonFmt"in m&&r(15,S=m.comparisonFmt),"title"in m&&r(3,d=m.title),"comparisonTitle"in m&&r(4,y=m.comparisonTitle),"downIsGood"in m&&r(5,C=m.downIsGood),"neutralMin"in m&&r(16,A=m.neutralMin),"neutralMax"in m&&r(17,N=m.neutralMax),"maxWidth"in m&&r(18,O=m.maxWidth),"minWidth"in m&&r(19,X=m.minWidth),"link"in m&&r(20,x=m.link)},a.$$.update=()=>{var m;if(a.$$.dirty&2&&r(1,i=i==="true"||i===!0),a.$$.dirty&4&&r(2,h=h==="true"||h===!0),a.$$.dirty&32&&r(5,C=C==="true"||C===!0),a.$$.dirty&10486265)try{if(r(21,_=void 0),!l)throw new Error("value is required");Array.isArray(t)||r(0,t=[t]),ee(t,[l]);let z=Se(t,"array"),ae=z.find(q=>q.id===l);if(r(3,d=d??(ae?ae.title:null)),n){ee(t,[n]);let q=z.find(Te=>Te.id===n);r(4,y=y??(q?q.title:null))}if(t&&n&&(r(23,L=t[0][n]>=0),r(22,Q=L&&!C||!L&&C?"var(--green-700)":"var(--red-700)")),f&&(ee(t,[f]),((m=z.find(q=>q.id===f))==null?void 0:m.type)!=="date"))throw Error("sparkline must be a date column")}catch(z){if(r(21,_=z),console.error("\x1B[31m%s\x1B[0m",`Error in Big Value: ${_.message}`),ve)throw _}},[t,i,h,d,y,C,l,n,f,o,s,u,c,v,k,S,A,N,O,X,x,_,Q,L]}let ct=class extends ne{constructor(e){super(),le(this,e,mt,ut,re,{data:0,value:6,comparison:7,comparisonDelta:1,sparkline:8,sparklineType:9,sparklineColor:10,sparklineValueFmt:11,sparklineDateFmt:12,sparklineYScale:2,connectGroup:13,fmt:14,comparisonFmt:15,title:3,comparisonTitle:4,downIsGood:5,neutralMin:16,neutralMax:17,maxWidth:18,minWidth:19,link:20})}};function ht(a){let e;const r=a[6].default,t=ge(r,a,a[7],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,n){t&&t.m(l,n),e=!0},p(l,n){t&&t.p&&(!e||n&128)&&be(t,r,l,l[7],e?ye(r,l[7],n,null):pe(l[7]),null)},i(l){e||(g(t,l),e=!0)},o(l){p(t,l),e=!1},d(l){t&&t.d(l)}}}function _t(a){let e,r;const t=[a[4],{data:Z.isQuery(a[9])?Array.from(a[9]):a[9]}];let l={$$slots:{default:[ht]},$$scope:{ctx:a}};for(let n=0;n<t.length;n+=1)l=Y(l,t[n]);return e=new ct({props:l}),{c(){V(e.$$.fragment)},l(n){T(e.$$.fragment,n)},m(n,i){F(e,n,i),r=!0},p(n,i){const f=i&528?ke(t,[i&16&&we(n[4]),i&512&&{data:Z.isQuery(n[9])?Array.from(n[9]):n[9]}]):{};i&128&&(f.$$scope={dirty:i,ctx:n}),e.$set(f)},i(n){r||(g(e.$$.fragment,n),r=!0)},o(n){p(e.$$.fragment,n),r=!1},d(n){I(e,n)}}}function dt(a){let e,r,t,l;return r=new Ve({props:{error:a[9].error.message}}),{c(){e=M("div"),V(r.$$.fragment),this.h()},l(n){e=G(n,"DIV",{slot:!0,class:!0,style:!0});var i=D(e);T(r.$$.fragment,i),i.forEach(b),this.h()},h(){w(e,"slot","error"),w(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),w(e,"style",t=`
				min-width: ${a[5].minWidth};
				max-width: ${a[5].maxWidth};
		`)},m(n,i){E(n,e,i),F(r,e,null),l=!0},p(n,i){const f={};i&512&&(f.error=n[9].error.message),r.$set(f),(!l||i&32&&t!==(t=`
				min-width: ${n[5].minWidth};
				max-width: ${n[5].maxWidth};
		`))&&w(e,"style",t)},i(n){l||(g(r.$$.fragment,n),l=!0)},o(n){p(r.$$.fragment,n),l=!1},d(n){n&&b(e),I(r)}}}function gt(a){let e,r,t,l;return r=new Ee({props:{emptyMessage:a[2],emptySet:a[1],chartType:yt,isInitial:a[3]}}),{c(){e=M("div"),V(r.$$.fragment),this.h()},l(n){e=G(n,"DIV",{slot:!0,class:!0,style:!0});var i=D(e);T(r.$$.fragment,i),i.forEach(b),this.h()},h(){w(e,"slot","empty"),w(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),w(e,"style",t=`
				min-width: ${a[5].minWidth};
				max-width: ${a[5].maxWidth};
		`)},m(n,i){E(n,e,i),F(r,e,null),l=!0},p(n,i){const f={};i&4&&(f.emptyMessage=n[2]),i&2&&(f.emptySet=n[1]),i&8&&(f.isInitial=n[3]),r.$set(f),(!l||i&32&&t!==(t=`
				min-width: ${n[5].minWidth};
				max-width: ${n[5].maxWidth};
		`))&&w(e,"style",t)},i(n){l||(g(r.$$.fragment,n),l=!0)},o(n){p(r.$$.fragment,n),l=!1},d(n){n&&b(e),I(r)}}}function bt(a){let e,r,t=(a[5].title??" ")+"",l,n,i,f,o;return i=new U({props:{column:a[5].value,fmt:a[5].fmt,data:a[9]}}),{c(){e=M("div"),r=M("p"),l=se(t),n=J(),V(i.$$.fragment),this.h()},l(s){e=G(s,"DIV",{class:!0,style:!0,slot:!0});var u=D(e);r=G(u,"P",{class:!0});var c=D(r);l=oe(c,t),c.forEach(b),n=K(u),T(i.$$.fragment,u),u.forEach(b),this.h()},h(){w(r,"class","text-sm text-gray-700"),w(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),w(e,"style",f=`
			min-width: ${a[5].minWidth};
			max-width: ${a[5].maxWidth};
		`),w(e,"slot","skeleton")},m(s,u){E(s,e,u),P(e,r),P(r,l),P(e,n),F(i,e,null),o=!0},p(s,u){(!o||u&32)&&t!==(t=(s[5].title??" ")+"")&&fe(l,t);const c={};u&32&&(c.column=s[5].value),u&32&&(c.fmt=s[5].fmt),u&512&&(c.data=s[9]),i.$set(c),(!o||u&32&&f!==(f=`
			min-width: ${s[5].minWidth};
			max-width: ${s[5].maxWidth};
		`))&&w(e,"style",f)},i(s){o||(g(i.$$.fragment,s),o=!0)},o(s){p(i.$$.fragment,s),o=!1},d(s){s&&b(e),I(i)}}}function pt(a){let e,r;return e=new Ce({props:{data:a[0],$$slots:{skeleton:[bt,({loaded:t})=>({9:t}),({loaded:t})=>t?512:0],empty:[gt],error:[dt,({loaded:t})=>({9:t}),({loaded:t})=>t?512:0],default:[_t,({loaded:t})=>({9:t}),({loaded:t})=>t?512:0]},$$scope:{ctx:a}}}),{c(){V(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){F(e,t,l),r=!0},p(t,[l]){const n={};l&1&&(n.data=t[0]),l&702&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(g(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){I(e,t)}}}let yt="Big Value";function kt(a,e,r){let t,{$$slots:l={},$$scope:n}=e,{data:i}=e;const f=Z.isQuery(i)?i.hash:void 0;let o=(i==null?void 0:i.hash)===f,{emptySet:s=void 0}=e,{emptyMessage:u=void 0}=e;return a.$$set=c=>{r(5,e=Y(Y({},e),te(c))),"data"in c&&r(0,i=c.data),"emptySet"in c&&r(1,s=c.emptySet),"emptyMessage"in c&&r(2,u=c.emptyMessage),"$$scope"in c&&r(7,n=c.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&r(3,o=(i==null?void 0:i.hash)===f),r(4,t=Object.fromEntries(Object.entries(e).filter(([,c])=>c!==void 0)))},e=te(e),[i,s,u,o,t,e,l,n]}class Gt extends ne{constructor(e){super(),le(this,e,kt,pt,re,{data:0,emptySet:1,emptyMessage:2})}}export{Gt as B};
