import{s as Y,e as S,a as B,d as R,g as te,c as D,r as q,f as h,i as C,j as y,k as Q,I as se,E as L,J as ne,H as re,q as le,b as N,t as z,u as V,A as ie,F as ae,n as Z,K as oe,L as ue}from"../chunks/scheduler.BVCo5HCX.js";import{S as $,i as x,t as k,g as O,b as E,d as T,c as I,a as P,m as A,e as H,f as j}from"../chunks/index.C9mGAhn_.js";import{s as fe,b as ce,B as F}from"../chunks/VennDiagram.svelte_svelte_type_style_lang.ZGqga9CZ.js";import{b as J}from"../chunks/index.C8RIryS8.js";import{s as K}from"../chunks/index.DBK5gAtQ.js";import{D as me}from"../chunks/DataTable.BKISIfxk.js";import{E as M,a as W,P as de}from"../chunks/index.y9s2U1iq.js";import"../chunks/entry.BCF5SsRs.js";function G(l){let e,t,r,s,n;return t=new F({props:{size:"sm",outline:!0,icon:l[1]?M:W,$$slots:{default:[be]},$$scope:{ctx:l}}}),t.$on("click",l[10]),s=new F({props:{size:"sm",variant:"success",outline:!0,icon:de,$$slots:{default:[ge]},$$scope:{ctx:l}}}),s.$on("click",l[11]),{c(){e=S("div"),I(t.$$.fragment),r=B(),I(s.$$.fragment),this.h()},l(i){e=R(i,"DIV",{class:!0});var u=q(e);P(t.$$.fragment,u),r=D(u),P(s.$$.fragment,u),u.forEach(h),this.h()},h(){C(e,"class","absolute bottom-2 right-2 z-10 flex gap-2")},m(i,u){y(i,e,u),A(t,e,null),Q(e,r),A(s,e,null),n=!0},p(i,u){const b={};u&2&&(b.icon=i[1]?M:W),u&32770&&(b.$$scope={dirty:u,ctx:i}),t.$set(b);const g={};u&32768&&(g.$$scope={dirty:u,ctx:i}),s.$set(g)},i(i){n||(k(t.$$.fragment,i),k(s.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),E(s.$$.fragment,i),n=!1},d(i){i&&h(e),H(t),H(s)}}}function _e(l){let e;return{c(){e=z("Show Results")},l(t){e=V(t,"Show Results")},m(t,r){y(t,e,r)},d(t){t&&h(e)}}}function he(l){let e;return{c(){e=z("Hide Results")},l(t){e=V(t,"Hide Results")},m(t,r){y(t,e,r)},d(t){t&&h(e)}}}function be(l){let e;function t(n,i){return n[1]?he:_e}let r=t(l),s=r(l);return{c(){s.c(),e=N()},l(n){s.l(n),e=N()},m(n,i){s.m(n,i),y(n,e,i)},p(n,i){r!==(r=t(n))&&(s.d(1),s=r(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){n&&h(e),s.d(n)}}}function ge(l){let e;return{c(){e=z("Submit")},l(t){e=V(t,"Submit")},m(t,r){y(t,e,r)},d(t){t&&h(e)}}}function U(l){let e,t=l[8].error+"",r;return{c(){e=S("pre"),r=z(t),this.h()},l(s){e=R(s,"PRE",{class:!0});var n=q(e);r=V(n,t),n.forEach(h),this.h()},h(){C(e,"class","text-red-500 text-xs font-mono")},m(s,n){y(s,e,n),Q(e,r)},p(s,n){n&256&&t!==(t=s[8].error+"")&&ie(r,t)},d(s){s&&h(e)}}}function X(l){let e,t,r,s;return t=new me({props:{data:l[8]}}),{c(){e=S("div"),I(t.$$.fragment)},l(n){e=R(n,"DIV",{});var i=q(e);P(t.$$.fragment,i),i.forEach(h)},m(n,i){y(n,e,i),A(t,e,null),s=!0},p(n,i){const u={};i&256&&(u.data=n[8]),t.$set(u)},i(n){s||(k(t.$$.fragment,n),n&&ae(()=>{s&&(r||(r=j(e,K,{},!0)),r.run(1))}),s=!0)},o(n){E(t.$$.fragment,n),n&&(r||(r=j(e,K,{},!1)),r.run(0)),s=!1},d(n){n&&h(e),H(t),n&&r&&r.end()}}}function pe(l){let e,t="SQL Console",r,s,n,i,u,b=l[8].error&&!l[2]&&!!l[4],g,_,w,p,a=!l[3]&&G(l),f=b&&U(l),c=l[1]&&X(l);return{c(){e=S("h1"),e.textContent=t,r=B(),s=S("section"),n=S("div"),a&&a.c(),u=B(),f&&f.c(),g=B(),c&&c.c(),this.h()},l(o){e=R(o,"H1",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-7ylf69"&&(e.textContent=t),r=D(o),s=R(o,"SECTION",{class:!0,role:!0});var d=q(s);n=R(d,"DIV",{class:!0});var v=q(n);a&&a.l(v),v.forEach(h),u=D(d),f&&f.l(d),g=D(d),c&&c.l(d),d.forEach(h),this.h()},h(){C(e,"class","markdown"),C(n,"class","w-full relative rounded border border-gray-300 min-h-[8rem] cursor-text"),C(s,"class","px-0 py-2 bg-white flex flex-col gap-2 min-h-[8rem] svelte-1bw0fbe"),C(s,"role","none")},m(o,d){y(o,e,d),y(o,r,d),y(o,s,d),Q(s,n),a&&a.m(n,null),l[12](n),Q(s,u),f&&f.m(s,null),Q(s,g),c&&c.m(s,null),_=!0,w||(p=[se(i=fe.call(null,n,l[5])),L(s,"click",l[13]),L(s,"keydown",l[14])],w=!0)},p(o,[d]){o[3]?a&&(O(),E(a,1,1,()=>{a=null}),T()):a?(a.p(o,d),d&8&&k(a,1)):(a=G(o),a.c(),k(a,1),a.m(n,null)),i&&ne(i.update)&&d&32&&i.update.call(null,o[5]),d&276&&(b=o[8].error&&!o[2]&&!!o[4]),b?f?f.p(o,d):(f=U(o),f.c(),f.m(s,g)):f&&(f.d(1),f=null),o[1]?c?(c.p(o,d),d&2&&k(c,1)):(c=X(o),c.c(),k(c,1),c.m(s,null)):c&&(O(),E(c,1,1,()=>{c=null}),T())},i(o){_||(k(a),k(c),_=!0)},o(o){E(a),E(c),_=!1},d(o){o&&(h(e),h(r),h(s)),a&&a.d(),l[12](null),f&&f.d(),c&&c.d(),w=!1,re(p)}}}function ke(l,e,t){let r,s=Z,n=()=>(s(),s=oe(p,m=>t(8,r=m)),p);l.$$.on_destroy.push(()=>s());let{hideErrors:i=!1}=e,{initialQuery:u="select 'ABC' as category, 123 as num, 26400000 as sales_usd"}=e,{showResults:b=!0}=e,{disabled:g=!1}=e,_=u,w=_,{data:p=J(_)}=e;n();let a,f;le(async()=>{p&&p.fetch(),t(5,f={initialState:u,disabled:g,schema:await ce(),onChange:m=>{m.docChanged&&w.trim()!==m.state.doc.toString().trim()&&t(6,w=m.state.doc.toString())},onSubmit:()=>(t(4,_=w.trim()),_.endsWith(";")&&t(4,_=_.substring(0,_.length-1)),t(1,b=!0),!0)})});const c=()=>t(1,b=!b),o=()=>{t(4,_=w),t(1,b=!0)};function d(m){ue[m?"unshift":"push"](()=>{a=m,t(7,a)})}const v=()=>a==null?void 0:a.focus(),ee=m=>m.key==="Enter"&&(a==null?void 0:a.focus());return l.$$set=m=>{"hideErrors"in m&&t(2,i=m.hideErrors),"initialQuery"in m&&t(9,u=m.initialQuery),"showResults"in m&&t(1,b=m.showResults),"disabled"in m&&t(3,g=m.disabled),"data"in m&&n(t(0,p=m.data))},l.$$.update=()=>{l.$$.dirty&17&&_&&(n(t(0,p=J(_))),p.fetch()),l.$$.dirty&40&&f&&t(5,f.disabled=g,f)},[p,b,i,g,_,f,w,a,r,u,c,o,d,v,ee]}class ye extends ${constructor(e){super(),x(this,e,ke,pe,Y,{hideErrors:2,initialQuery:9,showResults:1,disabled:3,data:0})}}function we(l){let e,t;return e=new ye({}),{c(){I(e.$$.fragment)},l(r){P(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p:Z,i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}class De extends ${constructor(e){super(),x(this,e,null,we,Y,{})}}export{De as component};
